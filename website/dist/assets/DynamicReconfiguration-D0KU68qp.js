import{_ as t,a,p as o,o as i}from"./index-C_0Rsq9s.js";const n={},r={class:"spec-content"};function c(s,e){return i(),a("div",r,[...e[0]||(e[0]=[o(`<h1 data-v-765cf370>Dynamic Reconfiguration</h1><p class="lead" data-v-765cf370>Change server roles, listening ports, and database identity without process restarts.</p><h2 data-v-765cf370>Overview</h2><p data-v-765cf370> EntglDb v0.8.0 introduces support for dynamic reconfiguration. This allows nodes to: </p><ul data-v-765cf370><li data-v-765cf370>Switch between <strong data-v-765cf370>Client</strong> and <strong data-v-765cf370>Server</strong> modes dynamically.</li><li data-v-765cf370>Change listening ports.</li><li data-v-765cf370>Switch database identities (NodeIDs) without restarting the entire application process.</li></ul><h2 data-v-765cf370>Configuration Provider</h2><p data-v-765cf370> The core mechanism is the <code data-v-765cf370>IPeerNodeConfigurationProvider</code>. Services subscribe to this provider to receive real-time updates. </p><pre data-v-765cf370><code class="language-typescript" data-v-765cf370>// Example Interface
interface IPeerNodeConfigurationProvider {
    getConfiguration(): Promise&lt;PeerNodeConfiguration&gt;;
    onConfigurationChanged(callback: (config: PeerNodeConfiguration) =&gt; void): void;
}</code></pre><h2 data-v-765cf370>Known Peers (Static Remote)</h2><p data-v-765cf370> You can now persist &quot;Known Peers&quot; (Static Remote nodes) that survive restarts. This is essential for connecting to fixed Cloud Gateways or specific nodes outside the local broadcast domain. </p><pre data-v-765cf370><code class="language-typescript" data-v-765cf370>// Add a static peer
await peerStore.saveRemotePeer({
    nodeId: &quot;gateway-1&quot;,
    address: &quot;192.168.1.50:25000&quot;,
    type: PeerType.StaticRemote,
    // ...
});</code></pre><h2 data-v-765cf370>Leader Election (Bully Algorithm)</h2><p data-v-765cf370> For Cloud Synchronization, EntglDb implements the <strong data-v-765cf370>Bully Algorithm</strong>. </p><ul data-v-765cf370><li data-v-765cf370>Nodes automatically elect a leader to act as the Cloud Gateway.</li><li data-v-765cf370>The node with the lexicographically smallest NodeID wins.</li><li data-v-765cf370>Eliminates redundant traffic to the cloud.</li></ul>`,14)])])}const l=t(n,[["render",c],["__scopeId","data-v-765cf370"]]);export{l as default};
