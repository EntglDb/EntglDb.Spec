import{_ as a,a as t,p as s,o as d}from"./index-C_0Rsq9s.js";const i={},n={class:"spec-view"};function o(b,e){return d(),t("div",n,[...e[0]||(e[0]=[s(`<h1 data-v-b9168eb6>Synchronization</h1><p class="lead" data-v-b9168eb6>EntglDb implements a <strong data-v-b9168eb6>Local-First, Peer-to-Peer</strong> architecture that ensures Eventually Consistent state across a dynamic mesh using Hybrid Logical Clocks and Hash-Chained integrity.</p><div class="info-grid" data-v-b9168eb6><div class="info-card" data-v-b9168eb6><h3 data-v-b9168eb6>Multi-Master</h3><p data-v-b9168eb6>Every node can accept writes independently. No central coordinator is required.</p></div><div class="info-card" data-v-b9168eb6><h3 data-v-b9168eb6>Offline-First</h3><p data-v-b9168eb6>Devices operate fully offline and sync automatically when connectivity is restored.</p></div><div class="info-card" data-v-b9168eb6><h3 data-v-b9168eb6>Gossip Protocol</h3><p data-v-b9168eb6>Changes propagate virally through the network graph, ensuring high availability.</p></div></div><h2 data-v-b9168eb6>Conflict Resolution</h2><p data-v-b9168eb6>Conflicts are inevitable in distributed systems. EntglDb resolves them deterministically without user intervention.</p><div class="strategy-card" data-v-b9168eb6><div class="strategy-header" data-v-b9168eb6><h3 data-v-b9168eb6>1. Last-Write-Wins (LWW)</h3><span class="badge" data-v-b9168eb6>Object Level</span></div><p data-v-b9168eb6>For simple key-value storage, the version with the highest <strong data-v-b9168eb6>HLC Timestamp</strong> wins. Ties are broken by Node ID.</p></div><div class="strategy-card" data-v-b9168eb6><div class="strategy-header" data-v-b9168eb6><h3 data-v-b9168eb6>2. Recursive Merge</h3><span class="badge highlight" data-v-b9168eb6>Deep Merge</span></div><p data-v-b9168eb6>JSON objects are merged field-by-field, preserving non-conflicting changes from multiple actors.</p><div class="merge-demo" data-v-b9168eb6><div class="merge-col" data-v-b9168eb6><strong data-v-b9168eb6>Node A</strong> (t=100) <pre data-v-b9168eb6><code data-v-b9168eb6>{
  &quot;name&quot;: &quot;Alice&quot;,
  &quot;settings&quot;: {
    &quot;theme&quot;: &quot;dark&quot;
  }
}</code></pre></div><div class="merge-symbol" data-v-b9168eb6>+</div><div class="merge-col" data-v-b9168eb6><strong data-v-b9168eb6>Node B</strong> (t=105) <pre data-v-b9168eb6><code data-v-b9168eb6>{
  &quot;name&quot;: &quot;Alice&quot;,
  &quot;settings&quot;: {
    &quot;notifications&quot;: true
  }
}</code></pre></div><div class="merge-symbol" data-v-b9168eb6>=</div><div class="merge-col result" data-v-b9168eb6><strong data-v-b9168eb6>Result</strong><pre data-v-b9168eb6><code data-v-b9168eb6>{
  &quot;name&quot;: &quot;Alice&quot;,
  &quot;settings&quot;: {
    &quot;theme&quot;: &quot;dark&quot;,
    &quot;notifications&quot;: true
  }
}</code></pre></div></div></div><h2 data-v-b9168eb6>Snapshots &amp; &quot;Forever&quot; Scaling</h2><p data-v-b9168eb6>To prevent infinite log growth, EntglDb uses advanced chain pruning and snapshotting.</p><div class="strategy-card" data-v-b9168eb6><div class="strategy-header" data-v-b9168eb6><h3 data-v-b9168eb6>Boundary Convergence (Self-Healing)</h3><span class="badge highlight" data-v-b9168eb6>New in v0.8.5</span></div><p data-v-b9168eb6>When nodes have different pruned histories, Snapshots act as <strong data-v-b9168eb6>Convergence Points</strong>.</p><p data-v-b9168eb6>If a node attempts to sync new data that links back to a known <strong data-v-b9168eb6>Snapshot Boundary Hash</strong>, the network automatically bridges the gap. This allows the mesh to &quot;forget&quot; old divergent history and converge on the latest valid state.</p></div><h2 data-v-b9168eb6>Sync Lifecycle</h2><div class="steps-timeline" data-v-b9168eb6><div class="step" data-v-b9168eb6><div class="step-marker" data-v-b9168eb6>1</div><div class="step-content" data-v-b9168eb6><h4 data-v-b9168eb6>Handshake &amp; Auth</h4><p data-v-b9168eb6>Secure TLS channel establishment and Mutual Authentication.</p></div></div><div class="step" data-v-b9168eb6><div class="step-marker" data-v-b9168eb6>2</div><div class="step-content" data-v-b9168eb6><h4 data-v-b9168eb6>Vector Clock Exchange</h4><p data-v-b9168eb6>Nodes exchange &quot;Knowledge State&quot; to minimize bandwidth usage.</p></div></div><div class="step" data-v-b9168eb6><div class="step-marker" data-v-b9168eb6>3</div><div class="step-content" data-v-b9168eb6><h4 data-v-b9168eb6>Delta &amp; Gap Detection</h4><p data-v-b9168eb6>Missing entries are calculated. Cryptographic hash chains are verified to detect missing packets.</p></div></div><div class="step" data-v-b9168eb6><div class="step-marker" data-v-b9168eb6>4</div><div class="step-content" data-v-b9168eb6><h4 data-v-b9168eb6>Batch Transfer</h4><p data-v-b9168eb6>Data is transferred in compressed batches. The local database is updated transactionally.</p></div></div></div>`,12)])])}const r=a(i,[["render",o],["__scopeId","data-v-b9168eb6"]]);export{r as default};
